## Клиентский бойлерплейт на [Next.js](https://nextjs.org/docs/getting-started)

### Управление состоянием

Для управления состоянием используется [mobx](https://mobx.js.org/README.html) с оберткой [для реакта](https://github.com/mobxjs/mobx-react). Для нормальной регидратации приложения и стора необходимо, чтобы каждый из дочерних сторов, относительно родительского, можно было сериализовать. Поэтому при добавлении новой сущности в корневой стор необходимо имплементировать базовый публичный метод `serialize` (см. `CStore` в `lib/store/types`), который вернет нативный js-объект с наблюдаемыми св-вами. Помимо этого новый стор необходимо добалять в св-во `childStores` корневого стора.

### Стилизация

Для стилизации используется [react-jss версии 8.6.1](https://www.npmjs.com/package/react-jss/v/8.6.1). Переход на последнюю версию будет осуществлен после фикса неработующего HMR и типизации.

### Шрифты

Для загрузки шрифтов используется nextjs-плагин, который добавляет соответствующий лоадер в конфиг вебпака. Если локальные шрифты не нужны, то данный плагин можно убрать.

### Линтинг

Поскольку Next на текущий момент [не поддерживает линтинг `eslint`-ом](https://github.com/zeit/next.js/issues/7936#issuecomment-568508782), то ситуация складывается следующим образом:

- в рантайме линтинг происходит с помощью `tslint`;
- в редакторе, например VSC, нужно использовать `eslint`, предварительно **отключив `tslint`-плагин**;
- на прекоммите линтинг происходит так же с помощью `eslint`.
  ESLint предпочтителен, поскольку в нем поддерживаются правила для линтинга хуков, чего нет в TSLint. Если в `.eslintrc.js` происходят изменения, то они должны соотвеnствовать изменениям в `tslint.json`, и наоборот.
